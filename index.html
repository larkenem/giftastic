<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>GIFTASTIC</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" type="text/css" href="assets/css/style.css"> -->
  <!-- <link rel="stylesheet" type="text/css" href="assets/css/reset.css"> -->
  <!-- <script src-"assets/javascript/game.js"></script> -->

</head>

<body>

  <div class "container">
    <div class="row">
      <div class="col-lg-3 col-sm-12">
        <form id="newGif">
          <label for="gif-input"></label>
          <input type="text" id="gif-input">
          <br>
          <br>
          <input id="add-gif" type="submit" value="Shazam!">
        </form>
      </div>

      <div class="col-lg-9 col-sm-12">

        <div id="buttons"></div>
        <br>
        <div id="gifs"></div>
        <br>
        <br>
      </div>
    </div>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {

        var main = $("body");
        var topics = ["say what!?", "girl, please", "OMG", "oh, hell no!", "LOL", "YAS!", "WTF?!", "FML"];
        var btns = main.find("#buttons");

        function renderButtons() {

          $("#buttons").empty();  

          for (x = 0; x < topics.length; x++) {

            var topicsButton = $("<button>");

            // topicsButton.addClass("topics-button topics topics-button-color");

            topicsButton.attr("data-topics", topics[x]);

            topicsButton.text(topics[x]);

            btns.append(topicsButton);

          };
      


          $("button").on("click", function () {

            var x = $(this).attr("data-topics");

            console.log(x);


            var queryURL = "https://api.giphy.com/v1/gifs/search?q=" + x +
              "&api_key=NvJThpJjjt7FbQnlc8ajTkBkcMsflaVV&limit=10";

            $.ajax({
                url: queryURL,
                method: "GET"
              })

              .then(function (response) {

                console.log(queryURL);
                console.log(response);

                var results = response.data;

                for (var x = 0; x < results.length; x++) {

                  var gifDiv = $("<div>");

                  var p = $("<p>").text("Rating: " + results[x].rating);

                  var gifImage = $("<img>");

                  gifImage.attr("src", results[x].images.fixed_height.url);

                  gifDiv.append(p);
                  gifDiv.append(gifImage);

                  $("#gifs").prepend(gifDiv);
                };

                renderButtons();
              });
          });
};


          $("#add-gif").on("click", function (event) {

            event.preventDefault();

            var newInput = $("#gif-input").val().trim();

            topics.push(newInput);

            renderButtons();
          });

        renderButtons();

      });
    </script>
</body>

</html>